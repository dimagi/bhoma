<div id="placeholder" style="width:950px;height:{{height}}px;"></div> 

<p>Quality Indicator percentage by category </p>

<script id="source" language="javascript" type="text/javascript"> 
$(function () {

    var input_data = {{ rows }};
    var text_labels = {{ headings|safe }};
   
    var placeholder = $("#placeholder");
     
    var plot = $.plot(placeholder, input_data, {
	    	bars: { show: true, horizontal: true, align: "center", barWidth: 0.6 },
	    	xaxis: { min: 0 },
	    	yaxis: { min: 0, max: text_labels.length+1, ticks: [] }
	    });
    

	// add labels
    var o;
    for (var i = 0; i < text_labels.length; i += 1) {
        o = plot.pointOffset({ x: 0, y: i+1.2});
        placeholder.append('<div style="position:absolute;left:' + (o.left + 4) + 'px;top:' + o.top + 'px;color:#666;font-size:small">' + text_labels[i] + '</div>');
	}
    
})
</script>
{% extends "layout.html" %}
{% block page_imports %}
    {% include "imports/jquery-ui.html" %}
    {% include "imports/datatables.html" %}
{% endblock %}
{% block page_javascripts %}
    <script type="text/javascript">
        // datatable configuration.
        $(document).ready(function() {
            $('.datatable').dataTable({
                "bJQueryUI": true,
                "aaSorting": [[ 1, "desc" ]]
            });
        }); 
    </script>
{% endblock %}
{% block content %}
<br></br>
<h3>Sync history for <strong>{{ chw.formatted_name }}</strong> at {{ chw.current_clinic_display }}</h3>
<table class="datatable">
<thead>
    <tr>
        <th>Sync #</th>
        <th>Date</th>
        <th>Initial sequence id</th>
        <th>Last sequence id</th>
        <th>Cases synced</th>
    </tr>
</thead>
<tbody>
{% for log in sync_data %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ log.date }}</td>
        <td>{{ log.get_previous_log.last_seq|default:0 }}</td>
        <td>{{ log.last_seq }}</td>
        <td>{{ log.cases|length }}</td>
    </tr>
{% endfor %}
</tbody>
</table>
{% endblock %}